import o from"fs";import c from"path";function S(i){return!!c.extname(i)}function s(i){try{o.accessSync(i)}catch{o.mkdirSync(i,{recursive:!0})}}function p(i,n){if(S(n)){let e=c.dirname(n);s(e),o.copyFileSync(i,n)}else s(n),o.copyFileSync(i,c.join(n,c.basename(i)))}function y(i,n,e){if(e){let r=c.join(n,c.basename(i));return s(r),y(i,r)}if(s(n),o.lstatSync(i).isDirectory()){let r=o.readdirSync(i);for(let l of r){let f=c.join(i,l);o.lstatSync(f).isDirectory()?y(f,c.join(n,l)):p(f,n)}}}function t({source:i,target:n,copyWithFolder:e}){if(Array.isArray(n))for(let r of n)t({source:i,target:r,copyWithFolder:e});else if(Array.isArray(i)&&!Array.isArray(n))for(let r of i)t({source:r,target:n,copyWithFolder:e});else o.existsSync(i)&&(o.lstatSync(i).isFile()?p(i,n):o.lstatSync(i).isDirectory()&&y(i,n,e))}function a({source:i,target:n,copyWithFolder:e}){console.log("Copying files..."),o.existsSync(n)&&o.rmSync(n,{recursive:!0}),t({source:i,target:n,copyWithFolder:e}),console.log("Files copied.")}var m=a;var D=({source:i,target:n,copyWithFolder:e})=>({name:"copy",setup(r){r.onEnd(()=>m({source:i,target:n,copyWithFolder:e}))}});export{D as default};
//# sourceMappingURL=index.js.map
